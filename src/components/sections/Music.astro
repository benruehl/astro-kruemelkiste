---
import { getImage } from "astro:assets";
import { Icon } from "astro-icon";
import backgroundImage from "../../icons/music-art.svg";

const optimizedBackgroundImage = await getImage({ src: backgroundImage });
---

<section>
    <div class="background-art" style={`background-image: url('${optimizedBackgroundImage.src}')`}>
    </div>
    <div class="hanging-icon left" data-aos="zoom-in-down">
        <Icon name="music-rocket"/>
    </div>
    <div class="hanging-icon right" data-aos="zoom-in-down" data-aos-delay="100">
        <Icon name="music-bird"/>
    </div>
    <div class="text">
        <h2>Musik & <br/>Instrumente</h2>
        <p>Spielerisch besch√§ftigen wir uns mit Musik, singen viel und experimentieren mit einfachen Musikinstrumenten.</p>
    </div>
</section>

<style lang="scss">
    section {
        display: grid;
        grid-template-areas: "overlay";
        align-items: center;
        margin-bottom: -100px;
    }

    .background-art {
        grid-area: overlay;
        width: 100%;
        aspect-ratio: 601 / 532;
        background-position: center;
        background-repeat: no-repeat;
    }

    .hanging-icon {
        grid-area: overlay;
        transform-origin: top center;
        animation: swing 6s ease-in-out infinite;

        &.left {
            justify-self: flex-start;
            margin-left: 18%;
            width: 180px;
        }

        &.right {
            justify-self: flex-end;
            margin-right: 16%;
            width: 250px;
            animation-delay: 2s;
            animation-duration: 5s;
        }

        @keyframes swing {
            from, to {
                rotate: -2deg;
            }
            50% {
                rotate: 2deg;
            }
        }
    }

    .text {
        grid-area: overlay;
        justify-self: center;
        color: white;
        max-width: 360px;
        margin-top: -400px;
        text-align: center;

        h2 {
            text-shadow: 2px 2px rgb(var(--accent-color));
        }

        p {
            text-shadow: 1px 1px rgb(var(--accent-color));
        }
    }
</style>
